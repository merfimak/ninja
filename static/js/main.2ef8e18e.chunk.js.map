{"version":3,"sources":["components/NavBar/NavBar.module.css","components/Dialogs/Dialogs.module.css","components/Login/Login.module.css","components/Header/Header.module.css","assets/images/prelouder.gif","redux/prpofile_reducer.js","hoc/withAuthRedirect.js","api/api.js","components/Users/Users.module.css","reportWebVitals.js","redux/dialog_reduser.js","redux/users_reduser.js","redux/auth_reducer.js","redux/app_reducer.js","redux/redux-store.js","components/NavBar/NavBar.js","redux/users_selectors.js","components/Users/Users.js","components/common/Prelouder/Prelouder.js","components/Users/UsersContainer.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js","components/Header/Header.js","components/Header/header_container.js","components/Login/Login.js","App.js","index.js"],"names":["module","exports","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","SET_STATUS","DELETE_POST","initialState","postData","id","massage","likesCount","newPostText","profile","status","addPostActionCreator","type","updateNewPostActionCreator","text","newText","setStatus","getUsersProfile","userId","dispatch","usersAPI","getProfile","then","response","data","getStatus","profileAPI","updateStatus","resultCode","profileReducer","state","action","newPost","splice","postId","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","unFollow","console","log","delete","follow","post","warn","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","massagesData","dialogsData","name","NewMessageBody","dialogReducer","body","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLOWING_PROGRESS","users","totalUsersCounter","isFetching","followingInProgress","pagination_size","setCurrentPage","toggleFeching","toggleFollowingInProgress","usersReduser","map","u","userID","followed","totalCount","filter","SET_USER_DATA","SET_ERROR_TO_LOGIN_FORM","setAuthUserDataCreator","getAuthUserData","a","authReducer","error","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","massagesPage","usersPage","usersReducer","app","app_reducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","NavBar","className","classes","nav","item","activeClassName","active","getUsersSelector","getPageSize","gettotalUsersCounter","getcurrentPage","getisFetching","getfollowingInProgress","getPagination_size","Users","pagesCount","Math","ceil","pages","i","push","total_pages","useState","StartPaginationCount","setStartPaginationCount","EndPaginationCount","setEndPaginationCount","length","slice","user_pagination","onClick","onPagaChanged","pagination_btn","elem","pagination_number","select_page","get_users_btn","user","user_name","user_img","src","photos","small","user_id","followe_button","followe_btn","disabled","some","unfollow","Prelouder","prelouder","UsersAPIcomponent","pageNumber","items","DialogItem","path","dialog","dialogs_ava","alt","Massage","AddMassagForm","initialValues","validate","values","errors","onSubmit","setSubmitting","addMassag","isSubmitting","placeholder","massage_input","massage_error","component","massage_button","Dialogs","dialogElement","dialogMasstges","dialogs","dialogs_items","massages","alert","onAddMassag","onMessageChange","updateNewMessageCreator","sendMessageCreator","Header","header","logo","header_name","header_logout","login_block","HeaderContainer","LoginForm","test","login_input","login_error","login_button","messages","login_container","login_title","ProfileContainer","lazy","App","initializeApp","render","DialogsContainer","fallback","UsersContainer","AppContainer","promise","Promise","all","SamuraiJSApp","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2ef8e18e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__2kcFB\",\"item\":\"NavBar_item__2Xx18\",\"active\":\"NavBar_active__3n0i3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__AKcqj\",\"dialogs_items\":\"Dialogs_dialogs_items__qpslB\",\"active\":\"Dialogs_active__AaVX4\",\"dialog\":\"Dialogs_dialog__By0tu\",\"massages\":\"Dialogs_massages__idNhj\",\"massage\":\"Dialogs_massage__zDGP6\",\"dialogs_ava\":\"Dialogs_dialogs_ava__1pgXg\",\"massage_input\":\"Dialogs_massage_input__jyViB\",\"massage_button\":\"Dialogs_massage_button__3u7KI\",\"massage_error\":\"Dialogs_massage_error__19e5E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_container\":\"Login_login_container__3STEI\",\"login_title\":\"Login_login_title__ufASm\",\"login_input\":\"Login_login_input__38xfv\",\"login_button\":\"Login_login_button__1XOx8\",\"login_error\":\"Login_login_error__2mPOt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1QrL-\",\"logo\":\"Header_logo__27zOU\",\"login_block\":\"Header_login_block__2XEkv\",\"header_logout\":\"Header_header_logout__1ESW4\",\"header_name\":\"Header_header_name__1kkSx\"};","export default __webpack_public_path__ + \"static/media/prelouder.b2a8fa3d.gif\";","import {usersAPI} from '../api/api.js';\r\nimport {profileAPI} from '../api/api.js';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n  postData: [\r\n        {id: 1, massage:\"hellow, i love porn\", likesCount: 12},\r\n        {id: 2, massage:\"kolj ebanashka\", likesCount: 3},\r\n      ],\r\n      newPostText: \"newPostText---perdole\",\r\n      profile: null,\r\n      status: \"\"\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  \r\n//урок 47 12 мин, обьяснение. делаем копию обьекта с помощью ...\r\nswitch (action.type) {\r\n  case ADD_POST:{\r\n    let newPost = {\r\n\t\t\t\tid: 3,\r\n\t\t\t\tmassage: state.newPostText,\r\n\t\t\t\tlikesCount: 4\r\n\t\t\t};\r\n\r\n      return {//делаем глубинную копию\r\n        ...state,\r\n        postData:[...state.postData, newPost],\r\n        newPostText: ''\r\n      }\r\n\r\n   }\r\n   case DELETE_POST:{//action creator делаем через tdd\r\n //здесь у меня не получилось так как у димыча и я использовал метод splice\r\nlet newarr = state.postData.splice(action.postId, 1);//Помните, что Splice изменяет исходный массив, поэтому, когда вы делаете\r\n\r\n         return {//делаем глубинную копию\r\n        //...state, postData: state.postData.filter(p => p.id != action.postId)//Метод filter() создаёт новый массив со всеми элементами, прошедшими проверку, задаваемую в передаваемой функции.\r\n     \r\n      ...state, postData: state.postData\r\n      }\r\n   }\r\n  case UPDATE_NEW_POST_TEXT:{\r\n   // console.log(state);\r\n\t\t\t\treturn {//делаем глубинную копию\r\n          ...state,\r\n          newPostText:action.newText\r\n        }\r\n  }\r\n\r\n\r\n\r\n\r\n    case SET_USER_PROFILE:{\r\n   // console.log(state);\r\n        return {//делаем глубинную копию\r\n          ...state,\r\n          profile:action.profile\r\n        }\r\n  }\r\n\r\n     case SET_STATUS:{\r\n   // console.log(state);\r\n        return {//делаем глубинную копию\r\n          ...state,\r\n          status:action.status\r\n        }\r\n  }\r\n\r\n\r\n\r\n  default:\r\n    return state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n//action creator импортим его в MyPosts.js\r\nexport const addPostActionCreator = () =>{\r\n  return{\r\n    type: ADD_POST,\r\n  }\r\n}\r\n\r\n//action creator делаем через tdd\r\nexport const deletePost = (postId) =>{\r\n  return{\r\n    type: DELETE_POST,\r\n  }\r\n}\r\n\r\n\r\n//action creator импортим его в MyPosts.js\r\nexport const updateNewPostActionCreator = (text) =>{\r\n  return{\r\n    type: UPDATE_NEW_POST_TEXT,\r\n    newText:text\r\n  }\r\n}\r\n\r\nexport const setUsersProfile = (profile) =>{\r\n  return{\r\n    type: SET_USER_PROFILE,\r\n    profile:profile\r\n  }\r\n}\r\n\r\nexport const setStatus = (status) =>{\r\n  return{\r\n    type: SET_STATUS,\r\n    status:status\r\n  }\r\n}\r\n//это санка\r\nexport const getUsersProfile = (userId) =>{\r\n  return(dispatch) =>{\r\n   usersAPI.getProfile(userId).then(response =>{\r\n          dispatch(setUsersProfile(response.data));\r\n      })\r\n  }\r\n}\r\n\r\n//это санка\r\nexport const getStatus = (userId) =>{\r\n  return(dispatch) =>{\r\n   profileAPI.getStatus(userId).then(response =>{\r\n          dispatch(setStatus(response.data));\r\n      })\r\n  }\r\n}\r\n\r\n//это санка\r\nexport const updateStatus = (status) =>{\r\n  return(dispatch) =>{\r\n   profileAPI.updateStatus(status).then(response =>{\r\n    if(response.data.resultCode === 0 ){\r\n      dispatch(setStatus(status));\r\n    }\r\n          \r\n      })\r\n  }\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\tlet mapStateToPropsForRedirect = (state) =>({\r\n\t\tisAuth: state.auth.isAuth\r\n\t});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component{\r\n\t\trender() {\r\n\t\t\tif(!this.props.isAuth) return <Redirect to={\"/Login\"} />\r\n\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n//ебашим один хок в другом что бы закидывать в него инфу из isAuth\r\nlet ConnectAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n\treturn  ConnectAuthRedirectComponent;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import * as axios from 'axios';//в axios есть куча всего, * значит что все что есть в axios мы запиздячили в наш axios и теперь через него у нас есть доступ ко всему что там есть.\r\n \r\n\r\n\r\n\r\n//делаем инстанс для axios с помощю его метода create.\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"2583b1fb-2ae2-4907-b2bb-c13b3b0c66fa\"\r\n\t}\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10){\r\n\t\treturn  instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t.then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tunFollow(id){\r\n\tconsole.log(id)\r\n\t\treturn  instance.delete('follow/'+id)\r\n\t\t.then(response => {\r\n\r\n\t\t\treturn response.data;\r\n\t\t\t});\r\n\t},\r\n\tfollow(id){\r\n\t\treturn  instance.post('follow/'+id)\r\n\t\t.then(response => {\r\n\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tgetProfile(userId){\r\n\t\tconsole.warn('Obsolete method. Please profileAPI object.')\r\n\t\treturn profileAPI.getProfile(userId)//get возвращат промис\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId){\r\n\t\treturn instance.get(`profile/`+userId)//get возвращат промис\r\n\t},\r\n\tgetStatus(userId){\r\n\t\treturn instance.get(`profile/status/`+userId)//\r\n\t},\r\n\tupdateStatus(status){\r\n\t\treturn instance.put(`profile/status/`, {status: status})//\r\n\t}\r\n}\r\n\r\n\r\n//эта штука для header вверху показывается имя если я авторизован\r\nexport const authAPI = {\r\n\tme(){\r\n\treturn\tinstance.get(`auth/me`)\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe = false){\r\n\t\treturn\tinstance.post(`auth/login`, {email, password, rememberMe})\r\n\t},\r\n\tlogout(){\r\n\t\treturn\tinstance.delete(`auth/login`)\r\n\t}\r\n\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3xLIG\",\"user\":\"Users_user__1SUGv\",\"followe_button\":\"Users_followe_button__1jkAS\",\"user_name\":\"Users_user_name__3OAnZ\",\"user_img\":\"Users_user_img__2RJEz\",\"user_id\":\"Users_user_id__3xVWK\",\"user_pagination\":\"Users_user_pagination__3ZHlY\",\"select_page\":\"Users_select_page__3IAEN\",\"pagination_number\":\"Users_pagination_number__3SYeU\",\"followe_btn\":\"Users_followe_btn__3rdc4\",\"get_users_btn\":\"Users_get_users_btn__2rxQT\",\"pagination_btn\":\"Users_pagination_btn__121BR\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n      massagesData: [\r\n        {id: 1, massage:\"hi\"},\r\n        {id: 2, massage:\"hui\"},\r\n        {id: 3, massage:\"hoi\"},\r\n        {id: 3, massage:\"hei\"},\r\n      ],\r\n      dialogsData: [\r\n        {id: 1, name:\"Pasha\"},\r\n        {id: 2, name:\"Dima\"},\r\n        {id: 3, name:\"Vova\"},\r\n        {id: 4, name:\"Sasha\"}\r\n      ],\r\n      NewMessageBody:'',\r\n}\r\n\r\n\r\n\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n//урок 47 12 мин, обьяснение. делаем копию обьекта с помощью ...\r\n\r\n\r\nswitch (action.type) {\r\n\r\n  case UPDATE_NEW_MESSAGE_BODY:\r\n     return {...state,//делаем глубинную копию\r\n                 NewMessageBody: action.body\r\n     };\r\n    break;\r\n\r\n\r\n\r\n  case SEND_MESSAGE:\r\n  let body = action.massage;\r\n  return {...state,//делаем глубинную копию\r\n                 NewMessageBody: '',\r\n                massagesData: [...state.massagesData, {id: 6, massage:body}],//по старому тут так писалось stateCopy.massagesData.push({id: 6, massage:body});\r\n                \r\n  }\r\n    break;\r\n\r\n\r\n\r\n  default:\r\n   return state;\r\n}\r\n\r\n\r\n\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\n//action creator импортим его в Dialogs.js\r\nexport const sendMessageCreator = (massage) =>{\r\n  //console.log(massage)\r\n  return{\r\n    type: SEND_MESSAGE,\r\n    massage: massage\r\n  }\r\n}\r\n//action creator импортим его в Dialogs.js\r\nexport const updateNewMessageCreator = (body) =>{\r\n  return{\r\n    type: UPDATE_NEW_MESSAGE_BODY,\r\n    body:body\r\n  }\r\n}\r\n\r\nexport default dialogReducer;","import {usersAPI} from '../api/api.js';\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst TOTAL_COUNT = 'TOTAL_COUNT';\r\nconst   TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst   TOGGLE_IS_FOLOWING_PROGRESS = 'TOGGLE_IS_FOLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n      users: [],\r\n      pageSize: 5,\r\n      totalUsersCounter: 0,\r\n      currentPage: 1,\r\n      isFetching: false,\r\n      followingInProgress: [],\r\n      pagination_size: 10,\r\n}\r\n\r\n\r\n\r\n\r\nconst usersReduser = (state = initialState, action) => {\r\n//урок 47 12 мин, обьяснение. делаем копию обьекта с помощью ...\r\n\r\n\r\nswitch (action.type) {\r\n      case FOLLOW:\r\n       return {\r\n        ...state,//делаем копию state\r\n          users: state.users.map( u =>{//проходимся по всем элементам массива\r\n            if(u.id === action.userID){//человек нажимает кнопку на какомто юзере, его id приходит в action.\r\n              return {...u, followed: true};\r\n            }\r\n            return u;\r\n          })\r\n       };\r\n      break;\r\n       case UNFOLLOW:\r\n        return {\r\n        ...state,//делаем копию state\r\n          users: state.users.map( u =>{//проходимся по всем элементам массива\r\n            if(u.id === action.userID){\r\n              return {...u, followed: false};\r\n            }\r\n            return u;\r\n          })\r\n       };\r\n      break;\r\n       case SET_USERS:\r\n        return {\r\n        ...state,\r\n            users: [...action.users]//засовываем в users масив из state(делаем копию глубинную) и зсовываем тудаже юзеров из action\r\n       };\r\n      break;\r\n      case SET_CURRENT_PAGE:\r\n        return {\r\n        ...state,\r\n            currentPage: action.currentPage\r\n       };\r\n      break;\r\n       case TOTAL_COUNT:\r\n        return {\r\n        ...state,\r\n            totalUsersCounter: action.totalCount\r\n       };\r\n      break;\r\n       case TOGGLE_IS_FETCHING:\r\n        return {\r\n        ...state,\r\n            isFetching: action.isFetching\r\n       };\r\n        case TOGGLE_IS_FOLOWING_PROGRESS:\r\n        return {\r\n        ...state,\r\n            followingInProgress: action.isFetching\r\n             ? [...state.followingInProgress, action.userId]\r\n             : state.followingInProgress.filter(id=>id != action.userId)\r\n       };\r\n      break;\r\n      default:\r\n       return state;\r\n    }\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\n//action creator импортим его в Users.js\r\nexport const followSuccess = (userID) =>{\r\n  return{\r\n    type: FOLLOW,\r\n    userID\r\n  }\r\n}\r\n\r\n//action creator импортим его в Users.js\r\nexport const unFollowSuccess = (userID) =>{\r\n  return{\r\n    type: UNFOLLOW,\r\n    userID\r\n  }\r\n}\r\n\r\nexport const setUsers = (users) =>{\r\n  return{\r\n    type: SET_USERS,\r\n    users\r\n  }\r\n}\r\n\r\nexport const setCurrentPage = (currentPage) =>{\r\n  return{\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n  }\r\n}\r\n\r\nexport const setTotalUsersCount = (totalCount) =>{\r\n  return{\r\n    type: TOTAL_COUNT,\r\n    totalCount\r\n  }\r\n}\r\n\r\nexport const toggleFeching = (isFetching) =>{\r\n  return{\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n  }\r\n}\r\n\r\nexport const toggleFollowingInProgress = (isFetching, userId) =>{\r\n  return{\r\n    type: TOGGLE_IS_FOLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n  }\r\n}\r\n\r\n\r\n//это санка\r\nexport const getUsers = (currentPage,pageSize) =>{\r\n\r\n  return (dispatch) =>{\r\n    dispatch(toggleFeching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n         usersAPI.getUsers(currentPage, pageSize).then(data =>{\r\n            dispatch(toggleFeching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        })\r\n  }\r\n}\r\n\r\n\r\n\r\n//это санка\r\nexport const follow = (userId) =>{\r\n\r\n  return (dispatch) =>{\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n           usersAPI.follow(userId).then(data =>{\r\n                if(data.resultCode === 0){\r\n                  dispatch(followSuccess(userId))\r\n                }\r\n              dispatch(toggleFollowingInProgress(false,userId))\r\n            })\r\n  }\r\n}\r\n\r\n\r\n//это санка\r\nexport const unfollow = (userId) =>{\r\n\r\n  return (dispatch) =>{\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n           usersAPI.unFollow(userId).then(data =>{\r\n                if(data.resultCode === 0){\r\n                  dispatch(unFollowSuccess(userId))\r\n                }\r\n              dispatch(toggleFollowingInProgress(false,userId))\r\n            })\r\n  }\r\n}\r\n\r\n\r\nexport default usersReduser;","import {authAPI} from '../api/api.js';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst SET_ERROR_TO_LOGIN_FORM = 'SET_ERROR_TO_LOGIN_FORM';\r\n\r\nlet initialState = {\r\n      id: null,\r\n      email: null,\r\n      login: null,\r\n      isAuth: false\r\n\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n//урок 47 12 мин, обьяснение. делаем копию обьекта с помощью ...\r\nswitch (action.type) {\r\n  case SET_USER_DATA:{\r\n\t\t\t\treturn {//делаем глубинную копию\r\n          ...state,\r\n         ...action.data,\r\n          isAuth: action.isAuth\r\n        }\r\n  }\r\n\r\n    case SET_ERROR_TO_LOGIN_FORM:{\r\n        return {//делаем глубинную копию\r\n          ...state,\r\n          error: action.error\r\n        }\r\n  }\r\n  default:\r\n    return state;\r\n}\r\n\r\n}\r\n\r\n\r\n\r\nexport const setAuthUserDataCreator = (data, isAuth) =>{\r\n  return{\r\n    type: SET_USER_DATA,\r\n    data: data,\r\n    isAuth: isAuth\r\n  }\r\n}\r\n\r\n\r\nexport const setErrorToLoginForm = (error) =>{\r\n  return{\r\n    type: SET_ERROR_TO_LOGIN_FORM,\r\n    error: error\r\n  }\r\n}\r\n\r\n//это санка\r\nexport const getAuthUserData = () =>  async (dispatch) =>{\r\n let response =  await authAPI.me();\r\n\r\n            if(response.data.resultCode === 0){\r\n              dispatch(setAuthUserDataCreator(response.data.data, true))\r\n            }\r\n        \r\n   }\r\n\r\n\r\n\r\n//это санка\r\nexport const login = (email, password, rememberMe) =>{\r\n\r\n  return async (dispatch) =>{\r\n     let response =  await authAPI.login(email, password, rememberMe)\r\n      //console.log(response.data.resultCode)\r\n            if(response.data.resultCode === 0){\r\n              dispatch(getAuthUserData())\r\n            }else{\r\n              console.log(response.data.messages)\r\n             dispatch(setErrorToLoginForm(response.data.messages))//response.data.messages[0]\r\n            }\r\n        \r\n   }\r\n}\r\n\r\n//это санка\r\nexport const logout = () =>{\r\n\r\n  return(dispatch) =>{\r\n     authAPI.logout().then(response =>{\r\n            if(response.data.resultCode === 0){\r\n              dispatch(setAuthUserDataCreator({}, false))\r\n            }\r\n        })\r\n   }\r\n}\r\n\r\n\r\nexport default authReducer;","import {getAuthUserData } from './auth_reducer.js';\r\n\r\n\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n      initialized: false,\r\n\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n//урок 47 12 мин, обьяснение. делаем копию обьекта с помощью ...\r\nswitch (action.type) {\r\n  case INITIALIZED_SUCCESS:{\r\n\t\t\t\treturn {//делаем глубинную копию\r\n          ...state,//даже если нам надо сделать initialized: true, мы все равно делаем копию всего state, так как в будущем при расширении приложения может что то еще добавиться \r\n          initialized: true,\r\n        }\r\n  }\r\n\r\n  default:\r\n    return state;\r\n}\r\n\r\n}\r\n\r\n\r\n\r\nexport const initializedSeccessCreator = () =>{\r\n  return{\r\n    type: INITIALIZED_SUCCESS,\r\n  }\r\n}\r\n\r\n\r\n\r\n//это санк криэтер\r\nexport const initializeApp = () =>{\r\n\r\n  return(dispatch) =>{// a это санка\r\n      let promise = dispatch(getAuthUserData());\r\n      //80 ur 20 min\r\n      Promise.all([promise])\r\n      .then( () => {\r\n        dispatch(initializedSeccessCreator());\r\n   })\r\n}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default appReducer;","import { createStore } from 'redux';\r\nimport { combineReducers } from 'redux';\r\nimport { applyMiddleware } from 'redux';\r\nimport profileReducer from './prpofile_reducer.js';\r\nimport dialogReducer from './dialog_reduser.js';\r\nimport usersReducer from './users_reduser.js';\r\nimport authReducer from './auth_reducer.js';\r\nimport app_reducer from './app_reducer.js';\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { compose } from 'redux';\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmassagesPage: dialogReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: app_reducer,\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n  ));\r\n\r\n\r\n\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","\r\nimport  classes from './NavBar.module.css';\r\nimport { NavLink} from 'react-router-dom';\r\n\r\nconst NavBar = () => {\r\n  return (\r\n\r\n  <nav className={classes.nav}>\r\n\r\n             <div className={classes.item}>\r\n                <NavLink to=\"/profile\" activeClassName={classes.active} >profile</NavLink>\r\n             </div>\r\n             <div className={classes.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={classes.active}>massages</NavLink>\r\n             </div>\r\n              <div className={classes.item}>\r\n                <NavLink to=\"/users\" activeClassName={classes.active}>users</NavLink>\r\n             </div>\r\n             <div className={classes.item}>\r\n                <NavLink to=\"#3\">news</NavLink>\r\n             </div>\r\n             <div className={classes.item}>\r\n                <NavLink to=\"#4\">music</NavLink>\r\n             </div>\r\n             <div className={classes.item}>\r\n                <NavLink to=\"#4\">settings</NavLink>\r\n             </div>\r\n            </nav>\r\n   )\r\n}\r\n\r\n\r\nexport default NavBar;","export const getUsersSelector = (state) => {\r\n\treturn state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize\r\n}\r\n\r\nexport const gettotalUsersCounter = (state) => {\r\n\treturn state.usersPage.totalUsersCounter\r\n}\r\n\r\nexport const getcurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage\r\n}\r\n\r\nexport const getisFetching = (state) => {\r\n\treturn state.usersPage.isFetching\r\n}\r\n\r\nexport const getfollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getPagination_size = (state) => {\r\n\treturn state.usersPage.pagination_size\r\n}","\r\nimport classes from './Users.module.css';\r\nimport * as axios from 'axios';//в axios есть куча всего, * значит что все что есть в axios мы запиздячили в наш axios и теперь через него у нас есть доступ ко всему что там есть.\r\nimport { NavLink} from 'react-router-dom';\r\nimport {usersAPI} from '../../api/api.js';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nlet Users = (props) => {\r\n//let usersElements = props.users.map( elem => <div>{elem.fullName}</div>)\r\n\r\nconsole.log(props)\r\nlet pagesCount = Math.ceil(props.totalUsersCounter / props.pageSize);\r\n\r\nlet pages = [];\r\nfor(let i = 1; i<=pagesCount;i++){\r\n\tpages.push(i);\r\n}\r\nlet total_pages = pages;\r\n\r\nconst [StartPaginationCount, setStartPaginationCount] = useState(0);\r\nconst [EndPaginationCount, setEndPaginationCount] = useState(props.pagination_size);\r\n\r\nconsole.log(total_pages.length)\r\nconsole.log(EndPaginationCount)\r\n\r\n\r\n\r\nlet slice_pages = [];\r\npages = pages.slice(StartPaginationCount, EndPaginationCount)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\treturn(\r\n\t\t<div>\r\n\r\n\r\n\t\t\t\t{/*пагинатор и отдельного user я не выносил в отдельную компоненту, как это сделал димычь смотри 90 урок 42 минута*/}\r\n\t\t\t\t<div className={classes.user_pagination}>\r\n\r\n\t\t\t\t{StartPaginationCount > 0\r\n\t\t\t \t\t\t ? \r\n\t\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\t\tsetStartPaginationCount(StartPaginationCount - props.pagination_size)\r\n\t\t\t\t\t\tsetEndPaginationCount(EndPaginationCount - props.pagination_size)\r\n\t\t\t\t\t\tprops.onPagaChanged(StartPaginationCount - props.pagination_size + 1)\r\n\t\t\t\t\t} } className={classes.pagination_btn}> &larr; сюда</button>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t''}\r\n\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpages.map(elem =>{\r\n\t\t\t\t\t\treturn <div className={classes.pagination_number}>\r\n\t\t\t\t\t\t\t<span  onClick={() => {props.onPagaChanged(elem)}} key={elem.id} className={props.currentPage === elem ? classes.select_page : \"\"}>{elem}</span>,\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{EndPaginationCount > total_pages.length  ?\r\n\t\t\t\t\t''\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t:<button  onClick={() => {\r\n\t\t\t\t\t\tsetStartPaginationCount(StartPaginationCount + props.pagination_size)\r\n\t\t\t\t\t\tsetEndPaginationCount(EndPaginationCount + props.pagination_size)\r\n\t\t\t\t\t\tprops.onPagaChanged(StartPaginationCount + props.pagination_size + 1)\r\n\t\t\t\t\t} } className={classes.pagination_btn}>туда &rarr;</button>\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\t\t<button className={classes.get_users_btn}>get Users</button>\r\n\t\t <div  className={classes.users}>{\t\r\n\t\t\t props.users.map( elem =>\r\n\r\n\t\t\t \t <div key={elem.id} className={classes.user}>\r\n\r\n\t\t\t \t\t<div className={classes.user_name}>{elem.name}</div>\r\n\r\n\t\t\t \t\t <NavLink to={'/profile/' + elem.id}>\r\n\t\t\t \t\t\t<div className={classes.user_img}><img src={elem.photos.small === null ? \"/img/ava.jpg\" : elem.photos.small} /></div>\r\n\t\t\t \t\t</NavLink>\r\n\r\n\t\t\t \t\t<div className={classes.user_id}>id - {elem.id}</div>\r\n\r\n\t\t\t \t\t\t<div>{elem.status}</div>\r\n\r\n\t\t\t \t\t<div className={classes.followe_button}>\r\n\t\t\t \t\t\t{elem.followed\r\n\t\t\t \t\t\t ? <button className={classes.followe_btn} disabled={props.followingInProgress.some(id=>id===elem.id)} onClick={() => {\r\n\t\t\t \t\t\t \tprops.unfollow(elem.id)\r\n\t\t\t \t\t\t \t}}>Unfollowe</button>\r\n\t\t\t \t\t\t  : <button className={classes.followe_btn} disabled={props.followingInProgress.some(id=>id===elem.id)} onClick={() => {\r\n\t\t\t \t\t\t  \tprops.follow(elem.id)\r\n\t\t\t \t\t\t  }}>followe</button>}\r\n\t\t\t \t\t</div>\r\n\t\t\t\r\n\t\t\t \t </div>)\r\n\t\t\t\t }\t\t\r\n\t\t </div>\r\n\r\n\r\n\t </div>\r\n\t\r\n\t )\r\n}\r\nexport default Users;","import React from 'react';\r\nimport prelouder from '../../../assets/images/prelouder.gif';\r\n\r\n\r\nlet Prelouder = (props) => {\r\n\r\nreturn(\r\n\r\n<div>\r\n{props.isFetching ? <img src={prelouder} /> : null}\r\n\r\n</div>\r\n\t\r\n)\r\n\r\n\r\n}\t\r\n\r\nexport default Prelouder;","import React from 'react';\r\nimport { compose } from 'redux';\r\nimport {follow,\r\n\tunfollow,\r\n\tsetUsers,\r\n\tsetCurrentPage,\r\n\tsetTotalUsersCount,\r\n\ttoggleFeching,\r\n\ttoggleFollowingInProgress,\r\n\tgetUsers\r\n} from '../../redux/users_reduser.js';\r\nimport {getUsersSelector,\r\n\t\tgetPageSize,\r\n\t\tgettotalUsersCounter,\r\n\t\tgetcurrentPage,\r\n\t\tgetisFetching,\r\n\t\tgetfollowingInProgress,\r\n\t\tgetPagination_size\r\n} from '../../redux/users_selectors.js';\r\n/*\r\nimport {followActionCreator} from '../../redux/users_reduser.js';\r\nimport {unFollowActionCreator} from '../../redux/users_reduser.js';\r\nimport {setUsersActionCreator} from '../../redux/users_reduser.js';\r\nimport {setCurrntPageActionCreator} from '../../redux/users_reduser.js';\r\nimport {setTotalUsersCountctionCreator} from '../../redux/users_reduser.js';\r\nimport {toggleFechingActionCreator} from '../../redux/users_reduser.js';*/\r\nimport { connect } from 'react-redux';\r\nimport Users from './Users';\r\nimport * as axios from 'axios';//в axios есть куча всего, * значит что все что есть в axios мы запиздячили в наш axios и теперь через него у нас есть доступ ко всему что там есть.\r\nimport {usersAPI} from '../../api/api.js';\r\nimport Prelouder from '../common/Prelouder/Prelouder.js'\r\n\r\n//оберточная компонента которая работает с сервером\r\nclass UsersAPIcomponent extends React.Component {\r\n\t\tconstructor(props) {\r\n\t    super(props);\r\n\t  }\r\n\t  \r\n\t\t//сработает когда дом будет построен\r\n\t\tcomponentDidMount() {\r\n\t\t\t//здесь раньше был аякс запрос но мы вынесли его в usersReduser\r\n\t\t\tthis.props.getUsers(this.props.currentPage,this.props.pageSize)\r\n\r\n\t\t  }\r\n\t\tonPagaChanged = (pageNumber) => {\r\n\t\t\t/*alert(pageNumber)\r\n\t\t\tif(pageNumber < 1){\r\n\t\t\t\tpageNumber = 1;\r\n\t\t\t\t}\r\nalert(pageNumber)*/\r\n\t\t\t\tthis.props.getUsers(pageNumber,this.props.pageSize)\r\n\t\t\t\r\n\t\t}\r\n\t\trender(){\r\n\t\treturn( \r\n\t\t\t\t<div>\r\n\t\t\t\t<Prelouder isFetching={this.props.isFetching} />\r\n\t\t\t\t<Users users={this.props.users}\r\n\t\t\t\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t\t\t\tfollow={this.props.follow}\r\n\t\t\t\t\t\tonPagaChanged={this.onPagaChanged}\r\n\t\t\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\t\t\ttotalUsersCounter={this.props.totalUsersCounter}\r\n\t\t\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\t\t\tfollowingInProgress={this.props.followingInProgress}\r\n\t\t\t\t\t\ttoggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n\t\t\t\t\t\tpagination_size={this.props.pagination_size}\r\n\t\t\t\t\t\t\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t </div>\r\n\t\t )\r\n\t\t}\r\n}\r\n\r\n\r\n//оберточная компонента которая работает с стором\r\n// эта функция передает свойства\r\n/*let mapStateToProps = (state) =>{\r\n\treturn{\r\n\t\tusers: state.usersPage.users,\r\n\t\tpageSize: state.usersPage.pageSize,\r\n\t\ttotalUsersCounter: state.usersPage.totalUsersCounter,\r\n\t\tcurrentPage: state.usersPage.currentPage,\r\n\t\tisFetching: state.usersPage.isFetching,\r\n\t\tfollowingInProgress: state.usersPage.followingInProgress,\r\n\t\tgetUsers: state.usersPage.getUsers,\r\n\r\n\t}\r\n}*/\r\n\r\nlet mapStateToProps = (state) =>{\r\n\treturn{\r\n\t\tusers: getUsersSelector(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCounter: gettotalUsersCounter(state),\r\n\t\tcurrentPage: getcurrentPage(state),\r\n\t\tisFetching: getisFetching(state),\r\n\t\tfollowingInProgress: getfollowingInProgress(state),\r\n\t\tpagination_size: getPagination_size(state),\r\n\r\n\t}\r\n}\r\n//эта функция передает функции которые мы будем потом использовать в призентациооной компоненте\r\n/*let mapDispatchToProps = (dispatch) =>{\r\n\treturn{\r\n\t\tfollow:  (userID) => {\r\n\t\t\tdispatch(followActionCreator(userID));\r\n\t\t},\r\n\t\tunFollow: (userID) => {\r\n\t\t\tdispatch(unFollowActionCreator(userID));\r\n\t\t},\r\n\t\tsetUsers: (users) => {\r\n\t\t\tdispatch(setUsersActionCreator(users));\r\n\t\t},\r\n\t\tsetCurrentPage: (currentPage) => {\r\n\t\t\tdispatch(setCurrntPageActionCreator(currentPage));\r\n\t\t},\r\n\t\tsetTotalUsersCount: (currentPage) => {\r\n\t\t\tdispatch(setTotalUsersCountctionCreator(currentPage));\r\n\t\t},\r\n\t\ttoggleFeching: (isFetching) => {\r\n\t\t\tdispatch(toggleFechingActionCreator(isFetching));\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n}*/\r\n\r\n\r\n\r\n//connect внутри использует subscribe, он следит отдельно для этой компоненты когда state измениться\r\n// но сам state не изменяеться потому что мы менять его неможем, мы делаем копию, и он следит когда появится новая копия и тогда уже перерисовывается\r\n//const UsersContainer = connect(mapStateToProps,mapDispatchToProps)(UsersAPIcomponent);cтарая запись\r\n//connect внутри себя создает ActionCreator, и поэтому можно писать вот так вот сокращенно\r\n/*const UsersContainer = connect(mapStateToProps,{\r\n\tfollow,\r\n\tunfollow,\r\n\tsetCurrentPage,\r\n\ttoggleFollowingInProgress,\r\n\tgetUsers\r\n})(UsersAPIcomponent);*///UsersAPIcomponent находиться в этом же файле\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps,{\r\n\tfollow,\r\n\tunfollow,\r\n\tsetCurrentPage,\r\n\ttoggleFollowingInProgress,\r\n\tgetUsers\r\n}),//добавляет инфу Props в из State\r\n\t)(UsersAPIcomponent);\r\n\r\n\r\n\r\n\r\n//export default UsersContainer;","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport {sendMessageCreator} from '../../redux/dialog_reduser.js';\r\nimport {updateNewMessageCreator} from '../../redux/dialog_reduser.js';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik'; \r\n\r\n\r\nconst DialogItem = (props) =>{\r\n\r\n\tlet path = \"/dialogs/\" + props.id;\r\n\treturn(\r\n\t<div className={classes.dialog}>\r\n\t    <NavLink to={path} activeClassName={classes.active}>\r\n\t    <div className={classes.dialogs_ava}> \r\n\t    <img src=\"img/nicol.jpg\" alt=\"\"></img> \r\n\t     </div>\r\n\t    {props.name}\r\n\t    </NavLink>\r\n\t</div>\r\n\t)\r\n}\r\n\r\nconst Massage = (props) =>{\r\n\treturn(\r\n\t<div className={classes.massage}>\r\n\t    \t\t\t{props.massage}\r\n\t   </div>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\t\r\n//console.log(props)\r\n\r\n\tlet addMassag = (massage) =>{\r\n\t\talert(massage);\r\n\t\t props.onAddMassag(massage);\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\tlet MessageChange = (event) =>{\r\n\t\tlet body = event.target.value;\r\n\t\t// props.onMessageChange(body);\r\n\t};\r\n\r\n\t\r\n\t\r\n\t//каждый элемент мы преобразовываем в компоненту DialogItem с получеными данными\r\n\tlet dialogElement = props.massagesPage.dialogsData.map( (elem) => {\r\n\t\treturn [\r\n\t\t\t<DialogItem name={elem.name} id={elem.id} key={elem.id}/>\r\n\t\t]\r\n\t});\r\n\t\r\n\r\n\t/*каждый элемент мы преобразовываем в компоненту Massage с получеными данными*/\r\n\tlet dialogMasstges = props.massagesPage.massagesData.map( (elem) => {\r\n\t\treturn [\r\n\t\t\t<Massage massage={elem.massage} key={elem.id}/>\r\n\t\t]\r\n\t});\r\n\r\nif(!props.isAuth) return <Redirect to={\"/Login\"} />\r\n\r\n\t  return (\r\n\r\n\r\n\t\t\t<div className={classes.dialogs}>\r\n\r\n\t\t\t\t<div className={classes.dialogs_items}>\t\t\r\n\t\t\t\t\t{dialogElement}\t    \t\r\n\t\t  \t\t</div>\r\n\r\n\t\t\t    <div className={classes.massages}>\r\n\t\t\t    \t{dialogMasstges}\t\r\n\t\t\t    \t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t    \t<AddMassagForm addMassag={addMassag}/>\r\n\t    \t\t\r\n\t\t\t    </div>\r\n\r\n\r\n\r\n\r\n\t   \t  \t</div>\r\n\t   )\r\n}\r\n\r\n\r\nconst AddMassagForm = (props) => {\r\n\treturn(\r\n\r\n<div>\r\n     <Formik\r\n       initialValues={{ massage: ''}}\r\n       validate={values => {\r\n         const errors = {};\r\n         if (!values.massage) {\r\n           errors.massage = 'Required';\r\n         }\r\n         return errors;\r\n       }}\r\n       onSubmit={(values, { setSubmitting }) => {\r\n         \r\n          // alert(JSON.stringify(values, null, 2));\r\n           //alert(values.massage);\r\n           props.addMassag(values.massage)\r\n\r\n       }}\r\n     >\r\n       {({ isSubmitting }) => (\r\n         <Form>\r\n\t         <div>\r\n\t           <Field placeholder={\"massage\"} className={classes.massage_input} type=\"text\" name=\"massage\" />\r\n\t           <ErrorMessage className={classes.massage_error} name=\"massage\" component=\"div\" />\r\n           </div>\r\n           <div>\r\n           \t\t<button type=\"submit\" className={classes.massage_button} disabled={isSubmitting}>Add Massag</button>\r\n           </div>\r\n         </Form>\r\n       )}\r\n     </Formik>\r\n   </div>\r\n\r\n\t\t)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { NavLink} from 'react-router-dom';\r\nimport {sendMessageCreator} from '../../redux/dialog_reduser.js';\r\nimport {updateNewMessageCreator} from '../../redux/dialog_reduser.js';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect.js';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\n\r\n// эта функция передает свойства\r\nlet mapStateToProps = (state) =>{\r\n\treturn{\r\n\t\tmassagesPage: state.massagesPage,\r\n\t}\r\n}\r\n//эта функция передает функции которые мы будем потом использовать в призентациооной компоненте\r\nlet mapDispatchToProps = (dispatch) =>{\r\n\treturn{\r\n\t\tonMessageChange:  (body) => {\r\n\t\t\tdispatch(updateNewMessageCreator(body));\r\n\t\t},\r\n\t\tonAddMassag: (massage) => {\r\n\t\t\tdispatch(sendMessageCreator(massage));\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n\r\n//это хок который проверят авторизацию\r\n//let AuthRedirectComponent = withAuthRedirect(Dialogs)\r\n\r\n//connect внутри использует subscribe, он следит отдельно для этой компоненты когда state измениться\r\n// но сам state не изменяеться потому что мы менять его неможем, мы делаем копию, и он следит когда появится новая копия и тогда уже перерисовывается\r\n//const DialogsContainer = connect(mapStateToProps,mapDispatchToProps)(AuthRedirectComponent);\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps,mapDispatchToProps),\r\n\twithAuthRedirect\r\n\t)(Dialogs);","import  classes from './Header.module.css';\r\nimport { NavLink} from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n\t\r\n  return (\r\n\r\n<header className={classes.header}>\r\n           <div className={classes.logo}>\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Adidas_Logo.svg/1280px-Adidas_Logo.svg.png\" alt=\"\"></img>\r\n           </div>\r\n\r\n<div>{props.isAuth \r\n\t? <div className={classes.header_name}>{props.login} <button onClick={() => {props.logout()}} className={classes.header_logout}>LOG OUT</button></div>\r\n\t:  <div className={classes.login_block}><NavLink to={'/login'}>login</NavLink>\r\n           </div>}\r\n</div>\r\n\r\n           \r\n\r\n          </header> \r\n  \t  )\r\n}\r\n\r\n\r\nexport default Header;","import React from 'react';\r\nimport  classes from './Header.module.css';\r\nimport { NavLink} from 'react-router-dom';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {authAPI} from '../../api/api.js';\r\nimport { logout} from '../../redux/auth_reducer.js';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\tconstructor(props) {\r\n\t    super(props);\r\n\t  }\r\n\r\n\t\tcomponentDidMount() {\r\n\t\t\r\n\t\t\t//this.props.getAuthUserData() /// перенесли это в app.js\r\n\r\n\t\t  }\r\n\r\n\r\n\r\n\r\n\trender(){\r\n\r\n  return (\r\n\t\t\t<Header {...this.props}/> \r\n  \t  )\r\n}\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) =>{\r\n\treturn{\r\n\t\tid: state.auth.id,\r\n\t\temail: state.auth.email,\r\n\t\tlogin: state.auth.login,\r\n\t\tisAuth: state.auth.isAuth,\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport classes from './Login.module.css'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik'; \r\nimport {login, logout} from '../../redux/auth_reducer.js';//тут ошибка auth_reduCer\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////// 3 компонента\r\nlet LoginForm = (props) => {\r\n //console.log(props)\r\nreturn(\r\n<div>\r\n     <Formik\r\n       initialValues={{ email: '', password: '' }}\r\n       validate={values => {\r\n         const errors = {};\r\n         if (!values.email) {\r\n           errors.email = 'Required';\r\n         } else if (\r\n           !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n         ) {\r\n           errors.email = 'Invalid email address';\r\n         }\r\n         if (!values.password) {\r\n           errors.password = 'Required';\r\n         }\r\n         return errors;\r\n       }}\r\n       onSubmit={(values, { setSubmitting }) => {\r\n        \r\n           //alert(JSON.stringify(values, null, 2));\r\n           //alert(values.email + values.password + values.rememberMe);\r\n         props.login(values.email, values.password, values.rememberMe)\r\n       }}\r\n     >\r\n       {({ isSubmitting }) => (\r\n         <Form>\r\n         aBA5a!3u5SAZcBs\r\n\t         <div>\r\n\t           <Field placeholder={\"email\"} className={classes.login_input} type=\"email\" name=\"email\" />\r\n\t           <ErrorMessage className={classes.login_error} name=\"email\" component=\"div\" />\r\n           </div>\r\n           \r\n           <div>\r\n\t           <Field placeholder={\"Pass\"} className={classes.login_input} type=\"password\" name=\"password\" />\r\n\t           <ErrorMessage className={classes.login_error} name=\"password\" component=\"div\" />\r\n            </div>\r\n            <div>\r\n\t           <Field type=\"checkbox\" name=\"rememberMe\" /> remember Me\r\n\t        </div>\r\n          <div className={classes.login_error} >{props.error}</div>\r\n           <div>\r\n           \t\t<button type=\"submit\" className={classes.login_button} disabled={isSubmitting}>отправить</button>\r\n           </div>\r\n         </Form>\r\n       )}\r\n     </Formik>\r\n   </div>\r\n)\r\n}\r\n\r\n//////////////////////////////////////////////////////////////2компонента\r\nlet Login = (props) => {\r\n\r\nif(props.isAuth) return <Redirect to={\"/Profile\"} />\r\n\r\nreturn(\r\n\t<div>\r\n\t\t <div className={classes.login_container}>\r\n\t\t\t<h1  className={classes.login_title}>Login</h1>\r\n\t\t\t<LoginForm login={props.login} logout={props.logout} {...props}/>\r\n\t\t</div>\r\n\t</div>\r\n)\r\n}\r\n\r\n//////////////////////////////////////////////////////////3 компонента\r\nlet mapStateToProps = (state) =>{\r\n  return{\r\n    isAuth: state.auth.isAuth,\r\n    error: state.auth.error,\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,{login, logout})(Login);","//import logo from './logo.svg';\nimport './App.css';\nimport React, { lazy, Suspense }  from 'react';\nimport ReactDOM from 'react-dom';\nimport NavBar from './components/NavBar/NavBar';\nimport UsersContainer from './components/Users/UsersContainer';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport HeaderContainer from './components/Header/header_container';\nimport Login from './components/Login/Login';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { getAuthUserData } from './redux/auth_reducer.js';\nimport { compose } from 'redux';\nimport { initializeApp } from './redux/app_reducer.js';\nimport prelouder from './assets/images/prelouder.gif';\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store.js';\n\n//import ProfileContainer from './components/Profile/ProfileContainer';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer')); // Ленивая загрузка\n\n\nclass App extends React.Component {\n    constructor(props) {\n      super(props);\n    }\n\n  //сработает когда дом будет построен\n    componentDidMount() {\n        this.props.initializeApp()\n      }\n          \n\n\n\n\n  render(){\n    //alert(this.props.initialized)\nif(!this.props.initialized){\n  \n  return  <img src={prelouder} />\n}\n\n\n\n  return (\n  \t\n    <div className=\"app_wrepper\">\n\n      <HeaderContainer />\n      <NavBar />\n      <div className=\"app_wrepper_content\">      \n      <Route path=\"/dialogs\" render={ () => <DialogsContainer /> } />\n     \n          <Route path=\"/profile/:userId?\" render={ () =>  <Suspense fallback={<h2>Louding...</h2>}><ProfileContainer />  </Suspense> } />\n    \n      <Route path=\"/users\" render={ () => <UsersContainer /> } />\n      <Route path=\"/login\" render={ () => <Login /> } />\n      </div>\n     \n     </div>\n     \n  )}\n}\n\n\nlet mapStateToProps = (state) =>{\n  return{\n    initialized: state.app.initialized,\n\n  }\n}\n\n\n\nlet AppContainer =  compose(\n//withRouter,\nconnect(mapStateToProps,{initializeApp}))(App);\n\nlet SamuraiJSApp = (props) => {\n  return   <Router basename={process.env.PUBLIC_URL}>\n          <Provider store={store}>{/*штука из react-redux, позволяет добратьсядо store из контейнеров компонент*/}\n            \n                <AppContainer  />\n             \n          </Provider>\n </Router>\n\n\n}\n\nexport default SamuraiJSApp;","import reportWebVitals from './reportWebVitals';\n//import store from './redux/state.js';\nimport store from './redux/redux-store.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n//import App from './App';\nimport SamuraiJSApp from './App';\n\n\n\n\n\n\n\n\tReactDOM.render(\n\t\t  \n\t\t    \t<SamuraiJSApp  />,\n\t\t  \t\n\t\t\n\t\t  document.getElementById('root')\n\t);\n\n\n\n\nreportWebVitals();"],"sourceRoot":""}